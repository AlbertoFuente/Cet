function tableEffects(e,t,a,o,r,n){var s=$("."+e),i=$("."+t),l=t.slice(-1),c=$(".th"+l);switch(a){case"hover":s.attr("style","background: rgba(15, 151, 249, 0.21)"),i.attr("style","background: rgba(15, 151, 249, 0.21)"),c.attr("style","background: rgb(15, 151, 249); color: white");break;case"out":s.removeAttr("style"),i.removeAttr("style"),c.removeAttr("style");break;case"sort":var d=o.getElementsByClassName(t),u=0,f=[],h=[],p=/^\d+$/,m=!1;for(u;u<d.length;u++)m=!!p.test(d[u].childNodes[0].value),f.push({tr:d[u].parentNode,value:d[u].childNodes[0].value}),h.push(d[u].childNodes[0].value);"down"===r?(m?h.sort(function(e,t){return e-t}):h.reverse(),n.printNewBody(h,f,o)):(m?h.sort(function(e,t){return t-e}):h.sort(),n.printNewBody(h,f,o));var b=o.getElementsByTagName("input");$(b).change(function(){n.inputChange(this)}),$(b).hover(function(){n.mouseEffects(this,"hover")}),$(b).mouseout(function(){n.mouseEffects(this,"out")}),$(".datepicker").pickadate()}}!function(e){function t(t){var a=this;this.modifyData=function(e,a,o,r){switch(r){case 1:if(t.tableData[0].body[e][a].data=o,!window.localStorage)throw new Error("Your browser don't support LocalStorage!");localStorage.setItem("_tableData",JSON.stringify(t.tableData));break;case 2:if(""!==t.fireBaseUrl){var n=new Firebase(t.fireBaseUrl);t.tableData[0].body[e][a].data=o,n.set(t.tableData)}break;case 3:}},this.printNewBody=function(t,a,o){var r=o.childNodes[1],n=[],s=0;for(e(r).empty(),s;s<t.length;s++)for(var i=0;i<a.length;i++)t[s]===a[i].value&&n.push(a[i].tr);e(r).append(n)},this.mouseEffects=function(e,t){var a=e.parentNode.parentNode.className,o=e.parentNode.className;tableEffects(a,o,t)},this.inputChange=function(o){var r=o.parentNode.className,n=e(o).val(),s=o.parentNode.parentNode.className;a.modifyData(s,r,n,t.mode)},this.tableConstructor=function(t){if(void 0!==t){if(0===t.container.childNodes.length){var o=document.createElement("table");o.id="cetTable",o.className="striped";var r=document.createElement("tHead"),n=t.tableData.head||t.tableData[0].head;e.each(n,function(e,a){var o=document.createElement("th");if(o.className=e,o.innerHTML=a,o.setAttribute("data-field",a),t.sortable){var n=document.createElement("i");n.className="mdi-hardware-keyboard-arrow-down sortIcon",o.appendChild(n)}r.appendChild(o)}),o.appendChild(r);var s=document.createElement("tBody"),i=t.tableData.body||t.tableData[0].body;e.each(i,function(t,a){var o=document.createElement("tr");o.className=t,e.each(a,function(t,a){var r=document.createElement("td");if(r.className=t,void 0!==a.data&&void 0!==a.type){var n=document.createElement("input");n.className="input_"+t,"date"===a.type?(e(n).addClass("datepicker picker__input"),n.type="text",n.value=a.data,n.setAttribute("placeholder",a.data)):(n.type=a.type,n.value=a.data),a.edit||n.setAttribute("disabled","disabled"),r.appendChild(n)}o.appendChild(r)}),s.appendChild(o)}),o.appendChild(s),t.container.appendChild(o);var l=o.getElementsByTagName("input"),c=o.getElementsByTagName("i");return e(l).change(function(){a.inputChange(this)}),e(l).hover(function(){a.mouseEffects(this,"hover")}),e(l).mouseout(function(){a.mouseEffects(this,"out")}),e(c).click(function(){var e=this.parentNode.className,t=e.slice(-1),r="td"+t,n="sort",s="mdi-hardware-keyboard-arrow-down sortIcon",i="mdi-hardware-keyboard-arrow-up sortIcon",l=o.getElementsByTagName("i"),c=0,d="down";if(this.className===s)for(c;c<l.length;c++)l[c].className=i,d="up";else for(c;c<l.length;c++)l[c].className=s,d="down";tableEffects(e,r,n,o,d,a)}),e(".datepicker").pickadate(),t.container}return!1}},this.getLocalData=function(o){void 0!==o&&(localStorage.getItem("_tableData")?(t.tableData=JSON.parse(localStorage.getItem("_tableData")),a.tableConstructor(t)):e.ajax({url:o,method:"GET",dataType:"json",success:function(e){void 0!==e&&(t.tableData=e,a.tableConstructor(t))},error:function(){throw new Error("Could not load the data inside the "+o+" file")}}))},this.fireBaseData=function(e){if(void 0!==e){var o=new Firebase(e);o.on("value",function(e){t.tableData=e.val(),a.tableConstructor(t)},function(e){throw new Error("The read failed: "+e.code)})}},this.apiRestData=function(){},void 0!==t&&(t.dataOptions.localData?""!==t.localDataUrl?(t.mode=1,this.getLocalData(t.localDataUrl)):alert("You must add _cetTable.localDataUrl in config.js"):t.dataOptions.fireBase?""!==t.fireBaseUrl?(t.mode=2,this.fireBaseData(t.fireBaseUrl)):alert("You must add _cetTable.fireBaseUrl in config.js"):t.dataOptions.apiRest&&(""!==t.apiRestUrl?(t.mode=3,this.apiRestData(t.apiRestUrl)):alert("You must add _cetTable.apiRestUrl in config.js")))}e.getScript("../../app/config/config.js",function(e,a,o){"success"===a&&200===o.status&&t(_cetTable)})}(jQuery);