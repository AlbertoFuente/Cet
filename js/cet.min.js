function getLocalData(e,t){void 0!==e&&(localStorage.getItem("_tableData")?(e.tableData=JSON.parse(localStorage.getItem("_tableData")),t.tableConstructor(e)):$.ajax({url:e.localDataUrl,method:"GET",dataType:"json",success:function(a){void 0!==a&&(e.tableData=a,t.tableConstructor(e))},error:function(){throw new Error("Could not load the data inside the "+e.localDataUrl+" file")}}))}function fireBaseData(e,t){if(void 0!==e){var a=new Firebase(e.fireBaseUrl);a.on("value",function(a){e.tableData=a.val(),t.tableConstructor(e)},function(e){throw new Error("The read failed: "+e.code)})}}function apiRestData(){}function createTable(e){var t=this;this.modifyData=function(t,a,n,o){switch(e.tableData[0].body[t][a].data=n,o){case 1:if(!window.localStorage)throw new Error("Your browser don't support LocalStorage!");localStorage.setItem("_tableData",JSON.stringify(e.tableData));break;case 2:if(""!==e.fireBaseUrl){var r=new Firebase(e.fireBaseUrl);r.set(e.tableData)}break;case 3:}},this.printNewBody=function(e,t,a){var n=a.childNodes[1],o=[],r=0;for($(n).empty(),r;r<e.length;r++)for(var i=0;i<t.length;i++)e[r]===t[i].value&&o.push(t[i].tr);$(n).append(o)},this.mouseEffects=function(e,t){var a=e.parentNode.parentNode.className,n=e.parentNode.className;tableEffects(a,n,t)},this.inputChange=function(a){var n=a.parentNode.className,o=a.value,r=a.parentNode.parentNode.className;t.modifyData(r,n,o,e.mode)},this.tableConstructor=function(e){if(void 0!==e){if(e.header){var a=document.createElement("div");a.className="tableHeader";var n=document.createElement("label");if(n.className="tableHeaderTitle",n.innerHTML=e.title,e.options){var o=document.createElement("button");o.className="normalButton mdi-navigation-menu",a.appendChild(o);var r=document.createElement("div");r.className="optionsContainer",r.style.display="none",o.onclick=function(){var e=this.getBoundingClientRect();r.style.top=e.top+38+"px",r.style.left=e.left-164+"px","normalButton mdi-navigation-menu"===this.className?(this.className="clickedButton mdi-navigation-menu",r.style.display="block"):(this.className="normalButton mdi-navigation-menu",r.style.display="none")}}a.appendChild(n),e.container.appendChild(a),document.body.appendChild(r)}if(1===e.container.childNodes.length){var i=document.createElement("table");i.id="cetTable",i.className="striped";var l=document.createElement("tHead"),s=e.tableData.head||e.tableData[0].head;$.each(s,function(t,a){var n=document.createElement("th");if(n.className=t,n.innerHTML=a,n.setAttribute("data-field",a),e.sortable){var o=document.createElement("i");o.className="mdi-hardware-keyboard-arrow-down sortIcon",n.appendChild(o)}l.appendChild(n)}),i.appendChild(l);var d=document.createElement("tBody"),c=e.tableData.body||e.tableData[0].body;$.each(c,function(e,t){var a=document.createElement("tr");a.className=e,$.each(t,function(e,t){var n=document.createElement("td");if(n.className=e,void 0!==t.data&&void 0!==t.type){var o=document.createElement("input");o.className="input_"+e,"date"===t.type?($(o).addClass("datepicker picker__input"),o.type="text",o.value=t.data,o.setAttribute("placeholder",t.data)):(o.type=t.type,o.value=t.data),t.edit||o.setAttribute("disabled","disabled"),n.appendChild(o)}a.appendChild(n)}),d.appendChild(a)}),i.appendChild(d),e.container.appendChild(i);var u=i.getElementsByTagName("input"),m=i.getElementsByTagName("i");return $(u).change(function(){t.inputChange(this)}),$(u).hover(function(){t.mouseEffects(this,"hover")}),$(u).mouseout(function(){t.mouseEffects(this,"out")}),$(m).click(function(){var e=this.parentNode.className,a=e.slice(-1),n="td"+a,o="sort",r="mdi-hardware-keyboard-arrow-down sortIcon",l="mdi-hardware-keyboard-arrow-up sortIcon",s=i.getElementsByTagName("i"),d=0,c="down";if(this.className===r)for(d;d<s.length;d++)s[d].className=l,c="up";else for(d;d<s.length;d++)s[d].className=r,c="down";tableEffects(e,n,o,i,c,t)}),$(".datepicker").pickadate(),e.container}return!1}},void 0!==e&&(e.dataOptions.localData?""!==e.localDataUrl?(e.mode=1,getLocalData(e,t)):alert("You must add _cetTable.localDataUrl in config.js"):e.dataOptions.fireBase?""!==e.fireBaseUrl?(e.mode=2,fireBaseData(e,t)):alert("You must add _cetTable.fireBaseUrl in config.js"):e.dataOptions.apiRest&&(""!==e.apiRestUrl?(e.mode=3,apiRestData(e.apiRestUrl)):alert("You must add _cetTable.apiRestUrl in config.js")))}function tableEffects(e,t,a,n,o,r){var i=$("."+e),l=$("."+t),s=t.slice(-1),d=$(".th"+s);switch(a){case"hover":i.attr("style","background: rgba(15, 151, 249, 0.21)"),l.attr("style","background: rgba(15, 151, 249, 0.21)"),d.attr("style","background: rgb(15, 151, 249); color: white");break;case"out":i.removeAttr("style"),l.removeAttr("style"),d.removeAttr("style");break;case"sort":var c=n.getElementsByClassName(t),u=0,m=[],p=[],f=/^\d+$/,h=!1;for(u;u<c.length;u++)h=!!f.test(c[u].childNodes[0].value),m.push({tr:c[u].parentNode,value:c[u].childNodes[0].value}),p.push(c[u].childNodes[0].value);"down"===o?(h?p.sort(function(e,t){return e-t}):p.reverse(),r.printNewBody(p,m,n)):(h?p.sort(function(e,t){return t-e}):p.sort(),r.printNewBody(p,m,n));var v=n.getElementsByTagName("input");$(v).change(function(){r.inputChange(this)}),$(v).hover(function(){r.mouseEffects(this,"hover")}),$(v).mouseout(function(){r.mouseEffects(this,"out")}),$(".datepicker").pickadate()}}var imported=document.createElement("script");imported.src="../config/config.js",document.head.appendChild(imported);